var $jscomp={scope:{},checkStringArgs:function(b,e,d){if(null==b)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return b+""}};
$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,e,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[e]=d.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,e,d,g){if(e){d=$jscomp.global;b=b.split(".");for(g=0;g<b.length-1;g++){var n=b[g];n in d||(d[n]={});d=d[n]}b=b[b.length-1];g=d[b];e=e(g);e!=g&&null!=e&&$jscomp.defineProperty(d,b,{configurable:!0,writable:!0,value:e})}};
$jscomp.polyfill("String.prototype.repeat",function(b){return b?b:function(b){var d=$jscomp.checkStringArgs(this,null,"repeat");if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var e="";b;)if(b&1&&(e+=d),b>>>=1)d+=d;return e}},"es6-impl","es3");
function modal3d(b,e,d,g,n,y){var f,h,p,r,t,w,q,v;this.showSubParts=new Boolean;this.showSubParts=!1;if(void 0==e&&void 0==b)throw Error("Object can not initialised due to null objectPath");var z=new THREE.OBJLoader;f=new THREE.Object3D;var u=this;f.GetParent=function(){return u};abc=b.getComposer();var x=e.slice(e.lastIndexOf("/")+1,e.lastIndexOf("."));if(""!=e||void 0!==e){count=1;p=new THREE.TextureLoader;var k,l,m;void 0!=d&&(k=p.load(d),k.anisotropy=16,k.wrapS=k.wrapT=THREE.RepeatWrapping,k.format=
THREE.RGBFormat,k.needsUpdate=!0);void 0!=g&&(l=p.load(g),l.anisotropy=16,l.wrapS=l.wrapT=THREE.RepeatWrapping,l.format=THREE.RGBFormat,l.needsUpdate=!0);void 0!=n&&(m=p.load(n),m.anisotropy=16,m.wrapS=m.wrapT=THREE.RepeatWrapping,m.format=THREE.RGBFormat,m.needsUpdate=!0);z.load(e,function(c){r=(new THREE.Box3).setFromObject(c);t=r.max.x-r.min.x;w=r.max.y-r.min.y;q=b.getScreenDpi();if(void 0!=d||""!=d){var a=new Image;a.src=d;h=Math.round(t*q/a.naturalWidth)}else h=10;c.traverse(function(a){if(a instanceof
THREE.Mesh){a=a.geometry;var c=THREE.ShaderSkin.skinSimple,b=c.fragmentShader,d=c.vertexShader,c=THREE.UniformsUtils.clone(c.uniforms);c.enableBump.value=!0;c.enableSpecular.value=!0;c.tBeckmann.value=abc.renderTarget1.texture;c.tDiffuse.value=k;c.bumpMap.value=l;c.specularMap.value=m;c.diffuse.value.setHex(10526880);c.specular.value.setHex(10526880);c.uRoughness.value=10;c.uSpecularBrightness.value=.01;c.bumpScale.value=35;c.TexReapts.value=h;b=new THREE.ShaderMaterial({fragmentShader:b,vertexShader:d,
uniforms:c,lights:!0});b.extensions.derivatives=!0;a=new THREE.Mesh(a,b);a.geometry.uvsNeedUpdate=!0;a.material.needsUpdate=!0;a.magFilter=THREE.NearestFilter;a.minFilter=THREE.LinearMipMapLinearFilter;a.scale.set(2,2,2);a.material.side=THREE.DoubleSide;a.castShadow=!0;a.receiveShadow=!0;a.name=x+"-"+count;a.position.y=-350;f.add(a);count++}});f.name=x;y(f)})}else return!1;this.setScale=function(c){getObject().traverse(function(a){a.material&&(a.scale.set(c,c,c),a.geometry.uvsNeedUpdate=!0)})};this.setBumpScale=
function(c){this.getObject().traverse(function(a){a.material&&(a.material.uniforms.bumpScale.value=c)})};this.setBrightness=function(c){this.getObject().traverse(function(a){a.material&&(a.material.uniforms.uSpecularBrightness.value=value)})};this.setDiffuseColor=function(c){this.getObject().traverse(function(a){a.material&&(a.material.uniforms.diffuse.value=c)})};this.setSpecularColor=function(c){this.getObject().traverse(function(a){a.material&&(a.material.uniforms.specular.value=c)})};this.getObject=
function(){return f};this.setTextureWithPath=function(c){if(this.showSubParts)this.setTextureOnPart(c,v);else{this.IsSelected(!1);var a=new Image;a.src=c;h=Math.round(t*q/a.naturalWidth);f.traverse(function(a){if(a.material){var b=p.load(c);b.anisotropy=16;b.wrapS=b.wrapT=THREE.RepeatWrapping;b.format=THREE.RGBFormat;b.needsUpdate=!0;a.material.uniforms.tDiffuse.value=b;a.material.uniforms.TexReapts.value=h;a.material.uniforms.tDiffuse.value.needsUpdate=!0}})}};this.setTextureWithImage=function(c){this.IsSelected(!1);
var a=Math.round(t*q/c.naturalWidth),b=Math.round(w*q/c.naturalHeight);f.traverse(function(d){d.material&&(u._mesh.material.uniforms.tDiffuse.value.image=c,u._mesh.material.uniforms.bumpMap.value.repeat.set(a,b),u._mesh.material.uniforms.tDiffuse.value.needsUpdate=!0)})};this.getRepeat=function(){return h};this.setRepeat=function(c){h=c;f.traverse(function(a){a.material&&(a.material.uniforms.TexReapts.value=h,a.material.uniforms.tDiffuse.value.needsUpdate=!0)})};this.IsSelected=function(c){(c=void 0===
c?!1:c)&&this.showSubParts?(console.log("in"),f.traverse(function(a){a.material&&a.name.toLowerCase()==v.toLowerCase()&&(a.material.uniforms.diffuse.value.setHex(16734553),a.material.uniforms.diffuse.value.needsUpdate=!0)})):c?f.traverse(function(a){a.material&&(a.material.uniforms.diffuse.value.setHex(16734553),a.material.uniforms.diffuse.value.needsUpdate=!0)}):f.traverse(function(a){a.material&&(a.material.uniforms.diffuse.value.setHex(10526880),a.material.uniforms.diffuse.value.needsUpdate=!0)})};
this.getChildParts=function(){var c=[];0<f.children.length&&f.traverse(function(a){a.material&&c.push(a.name)});return c};this.setTextureOnPart=function(c,a){console.log(a);this.IsSelected(!1);var b=new Image;b.src=c;h=Math.round(t*q/b.naturalWidth);f.traverse(function(b){if(b.material&&b.name.toLowerCase()==a.toLowerCase()){var d=p.load(c);d.anisotropy=16;d.wrapS=d.wrapT=THREE.RepeatWrapping;d.format=THREE.RGBFormat;d.needsUpdate=!0;b.material.uniforms.tDiffuse.value=d;b.material.uniforms.TexReapts.value=
h;b.material.uniforms.tDiffuse.value.needsUpdate=!0}})};this.setActiveMesh=function(b){v=b}};
